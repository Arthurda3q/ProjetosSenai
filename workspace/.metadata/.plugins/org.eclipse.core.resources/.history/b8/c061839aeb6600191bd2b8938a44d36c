import javax.swing.JOptionPane;
import javax.swing.UIManager;

public class GerenciarConta {

	public static void main(String[] args) {
		UIManager.put("Button.defaultButtonFollowsFocus",
				Boolean.TRUE); // para usar o 'enter' para entrar em um option

		Conta conta01 = new Conta();
		conta01.numero = 301;
		conta01.nome = "Arthur Souza";

		Object[] opcoes = { "Depositar", "Sacar", "Saldo", "Extrato" };

		int opcao = 0;
		while (opcao!= -1) { //enqt for diferente de -1 vai ficar repetindo, vai para qnd fechar no X.

			opcao = JOptionPane.showOptionDialog(null, "Escolha um opção",
					"Oparações Bancarias", JOptionPane.DEFAULT_OPTION,
					JOptionPane.INFORMATION_MESSAGE, null, opcoes, opcoes[0]);
			
			try {
			
			if (opcao == 0) { // deposito
				double valor = Double.parseDouble(JOptionPane
						.showInputDialog("Insira o valor a ser depositado").replace(",","."));//substituiçao de , por . !
				conta01.depositar(valor);
			}
			if (opcao == 1) {// saque
				String txValor = JOptionPane
						.showInputDialog("Insira o valor para saque.");
				double valor = Double.parseDouble(txValor); // convesao pra
															// decimal
				boolean sucesso = conta01.sacar(valor);

				if (sucesso) {
					JOptionPane.showMessageDialog(null,
							"Saque realizado com sucesso.");
				} else {
					JOptionPane.showMessageDialog(null, "Saldo indisponivel.");
				}
			}
			} catch (NumberFormatException e) { //Correção de erro caso ponha letra no lugar de numbers.
				JOptionPane.showMessageDialog(null, "Insira um número.");
			} catch (NullPointerException e){
				
			}
			if (opcao == 2) {
				JOptionPane.showMessageDialog(
						null,
						"Saldo: R$ "
								+ String.format("%,.2f", conta01.getSaldo()));
			}
			if (opcao == 3) {
				JOptionPane.showMessageDialog(null,
						"Extrato:" + conta01.getExtrato());
			}
		}

	}
}
